<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}"/>
    <title>Forgot Password</title>
</head>
<body>

<div class="login-form">
    <form th:action="@{/reset-password}" th:object="${passwordResetForm}" method="post">
        <h3><i class="glyphicon glyphicon-lock" style="font-size:2em;"></i></h3>
        <h2 class="text-center">Reset password</h2>
        <div th:if="${error}">
            <div class="alert alert-danger">
                <span th:text="${error}"></span>
            </div>
        </div>
        <p class="error-message"
           th:if="${#fields.hasGlobalErrors()}"
           th:each="error : ${#fields.errors('global')}"
           th:text="${error}">Validation error</p>

        <input type="hidden" name="token" th:value="${token}"/>

        <div class="form-group"
             th:classappend="${#fields.hasErrors('password')}? 'has-error':''">
            <div class="input-group">
										<span class="input-group-addon">
											<i class="glyphicon glyphicon-lock"></i>
										</span>
                <input id="password"
                       class="form-control"
                       placeholder="password"
                       type="password"
                       th:field="*{password}"/>
            </div>
            <p class="error-message"
               th:each="error: ${#fields.errors('password')}"
               th:text="${error}">Validation error</p>
        </div>
        <div class="form-group"
             th:classappend="${#fields.hasErrors('confirmPassword')}? 'has-error':''">
            <div class="input-group">
										<span class="input-group-addon">
											<i class="glyphicon glyphicon-lock"></i>
										</span>
                <input id="confirmPassword"
                       class="form-control"
                       placeholder="Confirm password"
                       type="password"
                       th:field="*{confirmPassword}"/>
            </div>
            <p class="error-message"
               th:each="error: ${#fields.errors('confirmPassword')}"
               th:text="${error}">Validation error</p>
        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-block btn-primary">Reset password</button>
        </div>
    </form>
    <p class="text-center small" style="color: white;">Don't have an account? <a th:href="@{/registration}">Sign up
        here!</a></p>
    <p class="text-center small" style="color: white;">Do you want to login?'? <a th:href="@{/login}">Sign in
        here!</a></p>
</div>
</body>
</html>